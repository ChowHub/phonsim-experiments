<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Serial Accuracy - Phonological Similarity in Complex Span</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../site/css/highlight.css" rel="stylesheet">
  <link href="../../site/css/theme.css" rel="stylesheet">
  <link href="../../site/css/theme_extra.css" rel="stylesheet">
  <link href="../../site/site/css/highlight.css" rel="stylesheet">
  <link href="../../site/site/css/theme.css" rel="stylesheet">
  <link href="../../site/site/css/theme_extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Serial Accuracy";
    var mkdocs_page_url = "/mlm/ACC.ser/index.html";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 
  <script src="../../site/js/highlight.pack.js"></script>
  <script src="../../site/js/jquery-2.1.1.min.js"></script>
  <script src="../../site/js/modernizr-2.8.3.min.js"></script>
  <script src="../../site/js/theme.js"></script>
  <script src="../../site/mkdocs/js/lunr-0.5.7.min.js"></script>
  <script src="../../site/mkdocs/js/mustache.min.js"></script>
  <script src="../../site/mkdocs/js/require.js"></script>
  <script src="../../site/mkdocs/js/search.js"></script>
  <script src="../../site/mkdocs/js/text.js"></script>
  <script src="../../site/site/js/highlight.pack.js"></script>
  <script src="../../site/site/js/jquery-2.1.1.min.js"></script>
  <script src="../../site/site/js/modernizr-2.8.3.min.js"></script>
  <script src="../../site/site/js/theme.js"></script>
  <script src="../../site/site/mkdocs/js/lunr-0.5.7.min.js"></script>
  <script src="../../site/site/mkdocs/js/mustache.min.js"></script>
  <script src="../../site/site/mkdocs/js/require.js"></script>
  <script src="../../site/site/mkdocs/js/search.js"></script>
  <script src="../../site/site/mkdocs/js/text.js"></script>
  <script src="../../site/theme_tweak/js/theme.js"></script>
  <script src="../../theme_tweak/js/theme.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="icon icon-home"> Phonological Similarity in Complex Span</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../index.html">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Experiments</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../exps/e1/index.html">E1 (ospan)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../exps/e2/index.html">E2 (shuffled)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../exps/e3/index.html">E3 (pooled)</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../exps/e4/index.html">E4 (names)</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Multilevel Models</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="index.html">Serial Accuracy</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#multilevel-model-of-accuracy">Multilevel model of accuracy</a></li>
                
                    <li><a class="toctree-l4" href="#models">Models</a></li>
                
                    <li><a class="toctree-l4" href="#confidence-intervals">Confidence Intervals</a></li>
                
                    <li><a class="toctree-l4" href="#plotting">Plotting</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ACC.item/index.html">Item Accuracy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ACC.order/index.html">Order Accuracy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ACC.pli/index.html">Prior List Intrusions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ACC.worderr/index.html">Other Intrusions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ACC.blank/index.html">Omissions</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Misc</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../misc/misc_distractor_intrusions/index.html">Distractor Intrusions</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Phonological Similarity in Complex Span</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>Multilevel Models &raquo;</li>
        
      
    
    <li>Serial Accuracy</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/ChowHub/phonsim-experiments" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="multilevel-model-of-accuracy">Multilevel model of accuracy</h1>
<pre><code>Loading required package: Matrix

Attaching package: 'Matrix'

The following object is masked from 'package:reshape':

    expand

Loading required package: Rcpp
</code></pre>

<p>Params:</p>
<pre><code class="r">params
</code></pre>

<pre><code>$dv_var
[1] &quot;ACC.ser&quot;

$nsim
[1] 10000

$plot_ymax
[1] 1

$plot_yshift
[1] 0
</code></pre>

<p>Read in data</p>
<pre><code class="r">DV_VAR = params$dv_var

all.dat = read.csv('data/1_scored.csv')
all.dat$Subject = factor(all.dat$Subject)
all.dat$dv = all.dat[,DV_VAR]

# Remove regular ospan, which has substantially lower accuracy 
# due to verification requirements
dat = subset(all.dat, !task %in% 'Ospan.reg')

# Mark high and low interference conditions
low_int = c('spOspan.noVer', 'Ospan.scram.noVer', 'Rspan.names.long', 'Rspan.names.short', 'Ospan.reg')
dat$interference = ifelse(dat$task %in% low_int, 'low', 'high')
</code></pre>

<h2 id="models">Models</h2>
<pre><code class="r">dat$cond = paste(dat$interference, dat$trialtype)
contrasts(dat$trialtype) &lt;- c(0,1)                # similarity increment
</code></pre>

<h3 id="model-with-recall-predictions-for-each-interferencetrialtype-explicit">Model with recall predictions for each interference:trialtype explicit</h3>
<pre><code class="r">fit.mlm = lmer(dv ~ 0 + cond + (1 | task:Subject) + (1 | task), data=dat)
summary(fit.mlm)
</code></pre>

<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: dv ~ 0 + cond + (1 | task:Subject) + (1 | task)
   Data: dat

REML criterion at convergence: -382.4

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.03890 -0.51960 -0.00493  0.52105  2.07599 

Random effects:
 Groups       Name        Variance  Std.Dev.
 task:Subject (Intercept) 2.435e-02 0.156030
 task         (Intercept) 4.146e-05 0.006439
 Residual                 6.832e-03 0.082654
Number of obs: 368, groups:  task:Subject, 184; task, 12

Fixed effects:
           Estimate Std. Error t value
condhigh D  0.52188    0.01685   30.97
condhigh S  0.60274    0.01685   35.77
condlow D   0.68184    0.02106   32.38
condlow S   0.67901    0.02106   32.25

Correlation of Fixed Effects:
           cndhgD cndhgS cndlwD
condhigh S 0.785               
condlow D  0.000  0.000        
condlow S  0.000  0.000  0.786 
</code></pre>

<h3 id="same-model-contrast-coded-for-similarity-benefit">Same model contrast coded for similarity benefit</h3>
<pre><code class="r">fit.mlm.con = lmer(dv ~ 0 + interference/trialtype + (1 | task:Subject) + (1 | task), data=dat)
summary(fit.mlm.con)
</code></pre>

<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: dv ~ 0 + interference/trialtype + (1 | task:Subject) + (1 | task)
   Data: dat

REML criterion at convergence: -382.4

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.03890 -0.51960 -0.00493  0.52105  2.07599 

Random effects:
 Groups       Name        Variance  Std.Dev.
 task:Subject (Intercept) 2.435e-02 0.156030
 task         (Intercept) 4.146e-05 0.006439
 Residual                 6.832e-03 0.082654
Number of obs: 368, groups:  task:Subject, 184; task, 12

Fixed effects:
                             Estimate Std. Error t value
interferencehigh             0.521883   0.016851   30.97
interferencelow              0.681836   0.021058   32.38
interferencehigh:trialtype1  0.080853   0.011045    7.32
interferencelow:trialtype1  -0.002829   0.013776   -0.21

Correlation of Fixed Effects:
            intrfrnch intrfrncl intrfrnch:1
interfrnclw  0.000                         
intrfrnch:1 -0.328     0.000               
intrfrncl:1  0.000    -0.327     0.000     
</code></pre>

<h3 id="same-model-contrast-coded-for-interference-benefit">Same model contrast coded for interference benefit</h3>
<pre><code class="r">fit.mlm.int = lmer(dv ~ 0 + trialtype/interference + (1 | task:Subject) + (1 | task), data=dat)
summary(fit.mlm.int)
</code></pre>

<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: dv ~ 0 + trialtype/interference + (1 | task:Subject) + (1 | task)
   Data: dat

REML criterion at convergence: -382.4

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.03890 -0.51960 -0.00493  0.52105  2.07599 

Random effects:
 Groups       Name        Variance  Std.Dev.
 task:Subject (Intercept) 2.435e-02 0.156030
 task         (Intercept) 4.146e-05 0.006439
 Residual                 6.832e-03 0.082654
Number of obs: 368, groups:  task:Subject, 184; task, 12

Fixed effects:
                           Estimate Std. Error t value
trialtypeD                  0.52188    0.01685   30.97
trialtypeS                  0.60274    0.01685   35.77
trialtypeD:interferencelow  0.15995    0.02697    5.93
trialtypeS:interferencelow  0.07627    0.02697    2.83

Correlation of Fixed Effects:
            trltyD trltyS trltD:
trialtypeS   0.785              
trltypD:ntr -0.625 -0.491       
trltypS:ntr -0.491 -0.625  0.786
</code></pre>

<h3 id="why-is-task-variance-estimated-to-be-0">Why is task variance estimated to be 0?</h3>
<p>Sanity check, injecting noise at task level. Note the accurate task variance estimates.</p>
<pre><code class="r">tmp_dat = ddply(dat, .(task), transform, dv = dv + rnorm(1, sd=.1))
fit.mlm2 = lmer(dv ~ 0 + cond + (1 | task:Subject) + (1 | task), data=tmp_dat)
summary(fit.mlm2)
</code></pre>

<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: dv ~ 0 + cond + (1 | task:Subject) + (1 | task)
   Data: tmp_dat

REML criterion at convergence: -373.8

Scaled residuals: 
     Min       1Q   Median       3Q      Max 
-2.05499 -0.51661  0.00339  0.52422  2.06881 

Random effects:
 Groups       Name        Variance Std.Dev.
 task:Subject (Intercept) 0.024097 0.15523 
 task         (Intercept) 0.003452 0.05875 
 Residual                 0.006832 0.08265 
Number of obs: 368, groups:  task:Subject, 184; task, 12

Fixed effects:
           Estimate Std. Error t value
condhigh D  0.47286    0.02684   17.61
condhigh S  0.55371    0.02684   20.63
condlow D   0.70018    0.03597   19.47
condlow S   0.69735    0.03597   19.39

Correlation of Fixed Effects:
           cndhgD cndhgS cndlwD
condhigh S 0.915               
condlow D  0.000  0.000        
condlow S  0.000  0.000  0.927 
</code></pre>

<p>Another Sanity check, looking at task variance from ANOVA standpoint.
Note that the F-value for task is 1 (no between task var beyond subject var)</p>
<pre><code class="r">fit.aov = aov(dv ~ interference + task + Error(task:Subject), data=dat)
</code></pre>

<pre><code>Warning in aov(dv ~ interference + task + Error(task:Subject), data =
dat): Error() model is singular
</code></pre>

<pre><code class="r">summary(fit.aov)
</code></pre>

<pre><code>
Error: task:Subject
              Df Sum Sq Mean Sq F value   Pr(&gt;F)    
interference   1  1.228  1.2275  22.357 4.69e-06 ***
task          10  0.674  0.0674   1.227    0.277    
Residuals    172  9.444  0.0549                     
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Error: Within
           Df Sum Sq  Mean Sq F value Pr(&gt;F)
Residuals 184   1.61 0.008749               
</code></pre>

<h2 id="confidence-intervals">Confidence Intervals</h2>
<pre><code>
Attaching package: 'boot'

The following object is masked from 'package:survival':

    aml

The following object is masked from 'package:lattice':

    melanoma

Computing bootstrap confidence intervals ...
</code></pre>

<pre><code>                                 2.5 %     97.5 %
sd_(Intercept)|task:Subject 0.13613751 0.17342647
sd_(Intercept)|task         0.00000000 0.04640465
sigma                       0.07421224 0.09117062
condhigh D                  0.48948082 0.55498645
condhigh S                  0.56970322 0.63594401
condlow D                   0.64082173 0.72236687
condlow S                   0.63745372 0.71954698
</code></pre>

<pre><code>Computing bootstrap confidence intervals ...
</code></pre>

<pre><code>                                  2.5 %     97.5 %
sd_(Intercept)|task:Subject  0.13650324 0.17365590
sd_(Intercept)|task          0.00000000 0.04474944
sigma                        0.07429076 0.09108613
interferencehigh             0.48895606 0.55509559
interferencelow              0.64008397 0.72339610
interferencehigh:trialtype1  0.05892192 0.10198451
interferencelow:trialtype1  -0.02945740 0.02421941
</code></pre>

<h3 id="cohens-d">Cohen's d</h3>
<p>Here, I divided group differences by either the residual variance,
or between-subject variance +  residual variance.</p>
<pre><code>$d_high
BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
Based on 10000 bootstrap replicates

CALL : 
boot.ci(boot.out = booted, type = c(&quot;norm&quot;, &quot;perc&quot;), index = ii)

Intervals : 
Level      Normal             Percentile     
95%   ( 0.4887,  0.8898 )   ( 0.5003,  0.9002 )  
Calculations and Intervals on Original Scale

$d_low
BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
Based on 10000 bootstrap replicates

CALL : 
boot.ci(boot.out = booted, type = c(&quot;norm&quot;, &quot;perc&quot;), index = ii)

Intervals : 
Level      Normal             Percentile     
95%   (-0.2564,  0.2070 )   (-0.2555,  0.2098 )  
Calculations and Intervals on Original Scale

$d_sub_high
BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
Based on 10000 bootstrap replicates

CALL : 
boot.ci(boot.out = booted, type = c(&quot;norm&quot;, &quot;perc&quot;), index = ii)

Intervals : 
Level      Normal             Percentile     
95%   ( 0.2952,  0.5297 )   ( 0.3024,  0.5378 )  
Calculations and Intervals on Original Scale

$d_sub_low
BOOTSTRAP CONFIDENCE INTERVAL CALCULATIONS
Based on 10000 bootstrap replicates

CALL : 
boot.ci(boot.out = booted, type = c(&quot;norm&quot;, &quot;perc&quot;), index = ii)

Intervals : 
Level      Normal             Percentile     
95%   (-0.1539,  0.1244 )   (-0.1530,  0.1250 )  
Calculations and Intervals on Original Scale
</code></pre>

<h2 id="plotting">Plotting</h2>
<p>Means and Standard Errors</p>
<pre><code>The following `from` values were not present in `x`: Ospan.reg
</code></pre>

<pre><code class="r">p + 
  geom_rect(aes(x=NULL, y=NULL, shape=NULL,xmin=xmin, xmax=xmax, ymin=ymin, ymax=ymax),
            color='black', fill='white', data=group_annot) + 
  geom_text(aes(shape=NULL, color=NULL, x=text.x, y=text.y, label=label), 
            show_guide=FALSE, data=group_annot) + pub_theme + colors + shapes
</code></pre>

<pre><code>Scale for 'colour' is already present. Adding another scale for 'colour', which will replace the existing scale.
Scale for 'shape' is already present. Adding another scale for 'shape', which will replace the existing scale.
ymax not defined: adjusting position using y instead
</code></pre>

<p><img alt="" src="../ACC.ser_files/figure-html/plots-1.png" /> </p>
<hr />
<p>title: "1_mlm.R"
author: "machow"
date: "Wed Jan 13 11:45:16 2016"</p>
<hr />
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ACC.item/index.html" class="btn btn-neutral float-right" title="Item Accuracy"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../exps/e4/index.html" class="btn btn-neutral" title="E4 (names)"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/ChowHub/phonsim-experiments" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../../exps/e4/index.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../ACC.item/index.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
